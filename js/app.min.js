"use strict";function _createForOfIteratorHelper(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,r=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,i=window.innerWidth-document.body.offsetWidth+"px",o=document.querySelectorAll(".fixed");e?(document.body.classList.add("scroll-disabled"),t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=i,o&&o.forEach((function(e){e.style.marginRight=i}))):(document.body.classList.remove("scroll-disabled"),t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),o&&o.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,i=e.querySelectorAll(".categories__list-item"),o=0;i.forEach((function(e,i){i<=t&&(o+=e.getBoundingClientRect().height,i>0&&(o+=14))})),e.style.maxHeight=o+"px"}function i(){oe.style.height="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",oe.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",ne.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)",re.style.maxHeight="calc(100dvh - "+Number(document.querySelector(".header__fixed").getBoundingClientRect().top+(document.querySelector(".header__wrapper--main").getBoundingClientRect().height-1))+"px)"}function o(){var e=document.querySelector(".catalog__right"),t=document.querySelector(".catalog-filter__links"),i=document.querySelector(".catalog-filter__main");t&&(window.innerWidth<=1023?e&&(e.querySelector(".catalog__sort")?setTimeout((function(){e.querySelector(".catalog__sort").before(t)}),50):e.querySelector(".catalog__empty")&&setTimeout((function(){e.querySelector(".catalog__empty").before(t)}),50)):i&&setTimeout((function(){i.before(t)}),50))}function n(e){var t,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(t=o.n()).done;){var n=t.value;i.includes(n)||i.push(n)}}catch(e){o.e(e)}finally{o.f()}return i}o();var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="none"),window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="auto")}),t),e.parentNode.classList.remove("is--open")},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;e.style.removeProperty("display");var i=window.getComputedStyle(e).display;"none"===i&&(i="block"),e.style.display=i;var o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="none"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.previousElementSibling&&(e.previousElementSibling.style.pointerEvents="auto")}),t),e.parentNode.classList.add("is--open")},s=function(e,t){var i=function(i){for(var n=i.target;n&&!e.includes(n);)n=n.parentNode;n||(t(),o())};function o(){document.documentElement.removeEventListener("click",i)}return{setBodyChecker:function(){document.documentElement.addEventListener("click",i)},removeBodyChecker:o}};Inputmask().mask(document.querySelectorAll("input"));var a=document.querySelectorAll("textarea");a&&a.forEach((function(e){e.style.height=e.setAttribute("style","height: "+e.scrollHeight+"px"),e.classList.add("auto"),e.addEventListener("input",(function(t){e.style.height="auto",e.style.height=e.scrollHeight+"px"}))}));var l=document.querySelectorAll(".catalog-filter__range-slider");l&&l.forEach((function(e){var t=e.closest(".catalog-filter__range"),i=[t.querySelector(".range-field__input--min"),t.querySelector(".range-field__input--max")];noUiSlider.create(e,{start:[Number(e.dataset.rangeStart),Number(e.dataset.rangeEnd)],connect:!0,range:{min:Number(e.dataset.rangeMin),max:Number(e.dataset.rangeMax)}}),e.noUiSlider.on("update",(function(e,t){i[t].value=Number(e[t]).toFixed(2)})),i.forEach((function(t,i){t.addEventListener("change",(function(){e.noUiSlider.setHandle(i,Number(this.value).toFixed(2))})),t.addEventListener("keydown",(function(t){var o,n=e.noUiSlider.get(),r=Number(n[i]),c=e.noUiSlider.steps()[i];switch(t.which){case 13:e.noUiSlider.setHandle(i,Number(this.value).toFixed(2));break;case 38:!1===(o=c[1])&&(o=1),null!==o&&e.noUiSlider.setHandle(i,Number(r+o).toFixed(2));break;case 40:!1===(o=c[0])&&(o=1),null!==o&&e.noUiSlider.setHandle(i,Number(r-o).toFixed(2))}}))}))}));var d=document.querySelectorAll(".js-select");d&&d.forEach((function(e){new SlimSelect({select:e})}));var u=document.querySelectorAll(".desktop-select__selected"),p=document.querySelectorAll(".desktop-select__btn");u&&(u.forEach((function(e){var t=function(){e.closest(".desktop-select").classList.remove("is--active")},i=s([e.parentNode],t);e.addEventListener("click",(function(o){o.preventDefault();var n=e.closest(".desktop-select");n.classList.contains("is--active")?t():(n.classList.add("is--active"),i.setBodyChecker())}))})),p&&p.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".desktop-select");i.querySelector(".desktop-select__selected").innerHTML=e.innerHTML,i.classList.remove("is--active")}))})));var v=document.getElementById("cookies"),m=document.getElementById("cookies-trigger"),f=document.getElementById("js-cookies-btn");v&&("false"!==localStorage.cookiesAlert&&"cookiesAlert"in localStorage?v.classList.remove("is--active"):v.classList.add("is--active"),m&&m.addEventListener("click",(function(e){e.preventDefault();var t=m.closest(".cookies__main");t.classList.contains("is--open")?(c(t.querySelector(".cookies__info"),200),r(t.querySelector(".cookies__dropdown"))):(r(t.querySelector(".cookies__info"),200),c(t.querySelector(".cookies__dropdown")))})),f&&f.addEventListener("click",(function(e){e.preventDefault(),v.classList.contains("is--active")&&(v.classList.remove("is--active"),localStorage.cookiesAlert="true")})));var y=document.querySelectorAll(".c-sm-info__trigger");y&&y.forEach((function(e){var t=function(){e.closest(".c-sm-info").classList.remove("is--active")},i=s([e.parentNode],t);e.addEventListener("click",(function(o){if(window.innerWidth<=743){o.preventDefault();var n=e.closest(".c-sm-info");n.classList.contains("is--active")?t():(n.classList.add("is--active"),i.setBodyChecker())}}))}));var h=document.querySelector(".top-notice"),_=document.querySelector(".top-notice__close");h&&_&&_.addEventListener("click",(function(e){e.preventDefault(),h.classList.contains("is--hidden")||(h.classList.add("is--hidden"),x.classList.contains("is--active")&&(x.style.paddingTop="".concat(g.getBoundingClientRect().height,"px"),x.querySelector(".mobile-menu__wrap").style.height="calc(100dvh - ".concat(g.getBoundingClientRect().height,"px)"),x.style.transition="none",document.body.style.top="0px",window.scrollTo({top:0,behavior:"instant"}),setTimeout((function(){x.style.removeProperty("transition")}),50)))}));var g=document.querySelector(".header"),L=document.querySelector(".header-search"),S=document.querySelector(".header-search__input"),q=document.querySelector(".header-search__clear"),b=document.querySelector(".header-search__preview"),w=document.querySelector(".header-search__holder"),E=document.querySelectorAll(".header-search__btn"),k=document.querySelector(".header-search__close");L&&(q.addEventListener("click",(function(e){e.preventDefault(),S.value.length>0&&(S.value.length>0&&(S.value="",setTimeout((function(){document.querySelector(".title-search-result.search-block").innerHTML=""}),50)),b&&b.classList.remove("is--hidden"),w.classList.remove("is--active"))})),window.innerWidth<=1023?(E.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),g.classList.contains("is--search")||L.classList.contains("is--active")||(x.classList.contains("is--active")&&x.classList.remove("is--active"),g.classList.add("is--search"),L.classList.add("is--active"),S.value.length>=2?(b&&b.classList.add("is--hidden"),w.classList.add("is--active")):(b&&b.classList.remove("is--hidden"),w.classList.remove("is--active")),ee.classList.contains("is--active")?ee.classList.remove("is--active"):e(1))}))})),k.addEventListener("click",(function(t){t.preventDefault(),g.classList.contains("is--search")&&L.classList.contains("is--active")&&(S.value.length>0&&(S.value="",setTimeout((function(){document.querySelector(".title-search-result.search-block").innerHTML=""}),50)),g.classList.remove("is--search"),L.classList.remove("is--active"),e())}))):(S.addEventListener("focus",(function(){X.classList.contains("is--active")&&X.classList.remove("is--active"),L.classList.contains("header__search--long")||g.classList.add("is--search"),L.classList.add("is--active"),ee.classList.contains("is--active")?ee.classList.remove("is--active"):e(1)})),L.addEventListener("click",(function(t){t.target.classList.contains("header-search")&&(t.preventDefault(),S.value.length>0&&(S.value="",setTimeout((function(){document.querySelector(".title-search-result.search-block").innerHTML=""}),50)),g.classList.remove("is--search"),L.classList.remove("is--active"),e())}))));var x=document.getElementById("mobile-menu"),A=document.getElementById("hamburger-toggle"),B=(document.querySelector(".mobile-menu__close"),document.querySelector(".mobile-menu__btn--catalog")),T=document.querySelectorAll(".mobile-menu__link--category"),P=document.querySelectorAll(".mobile-menu__back");x&&A&&(A.addEventListener("click",(function(t){t.preventDefault(),x.classList.contains("is--active")?(g.classList.remove("is--menu"),A.classList.remove("is--active"),x.classList.remove("is--active"),e(0)):(document.querySelector(".top-notice:not(.is--hidden)")&&Math.abs(document.querySelector(".top-notice").getBoundingClientRect().top)<=document.querySelector(".top-notice").getBoundingClientRect().height?(x.style.paddingTop="calc(".concat(g.getBoundingClientRect().height,"px + ").concat(document.querySelector(".top-notice").getBoundingClientRect().height-Math.abs(document.querySelector(".top-notice").getBoundingClientRect().top),"px)"),x.querySelector(".mobile-menu__wrap").style.height="calc(100dvh - ".concat(g.getBoundingClientRect().height,"px - ").concat(document.querySelector(".top-notice").getBoundingClientRect().height-Math.abs(document.querySelector(".top-notice").getBoundingClientRect().top),"px)")):(x.style.paddingTop="".concat(g.getBoundingClientRect().height,"px"),x.querySelector(".mobile-menu__wrap").style.height="calc(100dvh - ".concat(g.getBoundingClientRect().height,"px)")),g.classList.add("is--menu"),A.classList.add("is--active"),x.classList.add("is--active"),D&&D.classList.contains("is--active")&&D.classList.remove("is--active"),e(1))})),B&&B.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".mobile-menu__holder--main").classList.remove("is--active"),document.querySelector(".mobile-menu__holder--catalog").classList.add("is--active")})),T&&T.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.dataset.category;document.querySelector(".mobile-menu__holder--catalog").classList.remove("is--active"),document.querySelector('.mobile-menu__holder[data-id="'+i+'"]').classList.add("is--active")}))})),P&&P.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".mobile-menu__holder");document.querySelectorAll(".mobile-menu__holder").forEach((function(e){return e.classList.remove("is--active")})),i.classList.contains("mobile-menu__holder--catalog")?document.querySelector(".mobile-menu__holder--main").classList.add("is--active"):document.querySelector(".mobile-menu__holder--catalog").classList.add("is--active")}))})));var D=document.getElementById("mobile-city-preview"),C=document.querySelectorAll(".mobile-city-preview__close"),H=document.querySelectorAll(".mobile-city-preview__btn");D&&C&&H&&(C.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),D.classList.contains("is--active")&&D.classList.remove("is--active")}))})),H.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),"true"===e.dataset.selected&&D.classList.remove("is--active")}))})));var R=document.querySelectorAll(".mobile-menu__link--trigger");R&&R.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),e.parentNode.classList.contains("is--open")?r(e.nextElementSibling):c(e.nextElementSibling)}))}));var M=document.getElementById("city-selection"),N=document.querySelectorAll(".city-selection-btn"),V=document.querySelector(".city-selection__close"),O=document.querySelector(".city-selection__input"),I=document.querySelector(".city-selection__info"),j=document.querySelector(".city-selection__results");document.querySelector(".city-selection__empty");M&&(M.addEventListener("click",(function(t){(t.target.classList.contains("city-selection")||t.target.classList.contains("city-selection__wrap"))&&(t.preventDefault(),M.classList.remove("is--active"),e())})),N.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),M.classList.contains("is--active")||(M.classList.add("is--active"),e(1),D&&D.classList.contains("is--active")&&D.classList.remove("is--active"),X&&X.classList.contains("is--active")&&X.classList.remove("is--active"))}))})),V.addEventListener("click",(function(t){t.preventDefault(),M.classList.contains("is--active")&&(M.classList.remove("is--active"),I.classList.add("is--active"),j.classList.remove("is--active"),O.value="",e())})),O.addEventListener("input",(function(e){e.preventDefault(),O.value.length>=2?(I.classList.remove("is--active"),j.classList.add("is--active"),axios({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},url:"/ajax/get_cities.php",data:{string:O.value}}).then((function(e){document.querySelector(".city-selection__results .city-selection__list").classList.remove("is--hidden"),document.querySelector(".city-selection__empty").classList.remove("is--active");var t=document.querySelector(".city-selection__results").querySelector(".city-selection__list");t.innerHTML="",JSON.parse(JSON.stringify(e.data)).forEach((function(e,i){t.insertAdjacentHTML("afterbegin",'<li class="city-selection__item"><button class="city-selection__link" data-city="'.concat(e.NAME_RU,'">').concat(e.NAME_RU,"</button></li>"))}))})).catch((function(e){document.querySelector(".city-selection__results .city-selection__list").classList.add("is--hidden"),document.querySelector(".city-selection__empty").classList.add("is--active")}))):(I.classList.add("is--active"),j.classList.remove("is--active"))})));var Y=document.querySelector(".c-filter-trigger__btn"),U=document.querySelector(".catalog-filter"),W=document.querySelector(".catalog-filter__close");Y&&U&&W&&(Y.addEventListener("click",(function(t){t.preventDefault(),U.classList.contains("is--active")||(U.querySelectorAll(".catalog-filter__block--extended.is--active")&&(U.querySelectorAll(".catalog-filter__block--default").forEach((function(e){return e.classList.remove("is--hidden")})),U.querySelectorAll(".catalog-filter__block--extended").forEach((function(e){e.classList.remove("is--active"),e.style.transition="0s",setTimeout((function(){e.removeAttribute("style")}),500)}))),U.classList.add("is--active"),e(1))})),W.addEventListener("click",(function(t){t.preventDefault(),U.classList.remove("is--active"),e()})));var F=document.querySelectorAll(".catalog-filter__more"),J=document.querySelectorAll(".catalog-filter__reset"),z=document.querySelectorAll(".catalog-filter__back"),$=document.querySelectorAll(".catalog-filter__checkbox"),G=document.querySelectorAll(".catalog-filter__search .c-search__input");F&&F.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-filter"),o=e.closest(".catalog-filter__block");o.nextElementSibling.classList.contains("catalog-filter__block--extended")&&(o.classList.add("is--hidden"),o.nextElementSibling.classList.add("is--active"),window.innerWidth<=1023&&(i.classList.add("scroll-disabled"),o.nextElementSibling.style.top=i.scrollTop+"px"))}))})),J&&J.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-filter"),o=e.closest(".catalog-filter__block");o.previousElementSibling.classList.contains("catalog-filter__block--default")&&(o.classList.remove("is--active"),o.previousElementSibling.classList.remove("is--hidden"),window.innerWidth<=1023&&(i.classList.remove("scroll-disabled"),o.style.top="0px"))}))})),z&&z.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-filter"),o=e.closest(".catalog-filter__block");o.previousElementSibling.classList.contains("catalog-filter__block--default")&&(o.classList.remove("is--active"),o.previousElementSibling.classList.remove("is--hidden"),window.innerWidth<=1023&&(i.classList.remove("scroll-disabled"),o.style.top="0px"))}))})),$&&$.forEach((function(e){e.addEventListener("click",(function(t){if(t.preventDefault(),e.classList.contains("catalog-filter__checkbox--preview")){var i=e.closest(".catalog-filter__block").nextElementSibling,o=e.querySelector(".square-checkbox__input"),n=o.dataset.id;i.classList.contains("catalog-filter__block--extended")&&(!0===o.checked?(i.querySelector("#"+n).checked=!1,o.checked=!1):(i.querySelector("#"+n).checked=!0,o.checked=!0),smartFilter.click(i.querySelector("#"+n)))}else{var r=e.closest(".catalog-filter__block").previousElementSibling,c=e.querySelector(".square-checkbox__input"),s=c.id;r.classList.contains("catalog-filter__block--default")&&(!0===c.checked?(r.querySelector(".square-checkbox__input[data-id="+s+"]")&&(r.querySelector(".square-checkbox__input[data-id="+s+"]").checked=!1),c.checked=!1):(r.querySelector(".square-checkbox__input[data-id="+s+"]")&&(r.querySelector(".square-checkbox__input[data-id="+s+"]").checked=!0),c.checked=!0))}}))})),G&&G.forEach((function(e){e.addEventListener("input",(function(t){t.preventDefault();var i=e.closest(".catalog-filter__block"),o=i.querySelectorAll(".catalog-filter__group"),n=i.querySelectorAll(".catalog-filter__letter"),r=i.querySelectorAll(".catalog-filter__checkbox");o&&(e.value.length>0?o.forEach((function(e){e.classList.add("is--hidden")})):o.forEach((function(e){e.classList.remove("is--hidden")}))),n&&(e.value.length>0?n.forEach((function(e){e.style.display="none"})):n.forEach((function(e){e.style.display="block"}))),r&&r.forEach((function(t){t.querySelector(".square-checkbox__title").innerText.toLowerCase().startsWith(e.value.toLowerCase())?t.style.display="block":t.style.display="none"}))}))}));var K=document.querySelector(".catalog__right"),Q=document.querySelector(".catalog__filtered");Q&&window.innerWidth>=1024&&K&&(K.querySelector(".catalog__sort")?setTimeout((function(){K.querySelector(".catalog__sort").after(Q)}),50):K.querySelector(".catalog__empty")&&setTimeout((function(){K.querySelector(".catalog__empty").before(Q)}),50));var X=document.querySelector(".header__location"),Z=document.querySelectorAll(".header__location .c-location__btn");X&&Z.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),"true"===e.dataset.selected&&X.classList.remove("is--active")}))}));var ee=document.querySelector(".c-catalog"),te=document.querySelector(".c-catalog__trigger"),ie=document.querySelectorAll(".c-catalog__categories-link"),oe=document.querySelector(".c-catalog__dropdown"),ne=document.querySelector(".c-catalog__left"),re=document.querySelector(".c-catalog__right");ee&&te&&ie&&(oe.addEventListener("click",(function(t){(t.target.classList.contains("c-catalog__dropdown")||t.target.classList.contains("container"))&&(t.preventDefault(),ee.classList.remove("is--active"),e(),document.querySelector(".header__wrapper--top")&&window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(g.querySelector(".header__fixed").style.boxShadow="none",g.querySelector(".header__fixed").style.position="relative"))})),te.addEventListener("click",(function(t){t.preventDefault(),ee.classList.contains("is--active")?(ee.classList.remove("is--active"),e(),document.querySelector(".header__wrapper--top")&&window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(g.querySelector(".header__fixed").style.boxShadow="none",g.querySelector(".header__fixed").style.position="relative")):(X.classList.contains("is--active")&&X.classList.remove("is--active"),ee.classList.add("is--active"),e(1),i())})),ie.forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.dataset.category;document.querySelectorAll(".c-catalog__holder").forEach((function(e){e.classList.remove("is--active")})),ie.forEach((function(e){e.classList.remove("is--active")})),e.classList.add("is--active"),document.querySelector('.c-catalog__holder[data-id="'+t+'"]').classList.add("is--active")}))})));var ce=document.querySelectorAll(".categories__list"),se=document.querySelectorAll(".categories__view-all");ce&&se&&(ce.forEach((function(e){t(e)})),se.forEach((function(e){e.addEventListener("click",(function(i){i.preventDefault();var o=e.closest(".categories__item").querySelector(".categories__list"),n=o.querySelectorAll(".categories__list-item").length;o.classList.contains("is--full")?(o.classList.remove("is--full"),e.innerHTML="Показать все",t(o,9)):(o.classList.add("is--full"),e.innerHTML="Скрыть все",t(o,n))}))})));var ae=document.querySelectorAll(".catalog-categories__more");ae&&ae.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.closest(".catalog-categories__list");i.classList.contains("is--full")?(i.classList.remove("is--full"),e.innerHTML="Показать все"):(i.classList.add("is--full"),e.innerHTML="Скрыть")}))}));var le=document.querySelectorAll(".validation-form");function de(e){var t=e.querySelectorAll('.input-field__input[data-validation="required"], .input-field__textarea[data-validation="required"]'),i=e.querySelector(".form-error"),o=t.length;t.forEach((function(e){var t=e.closest(".input-field");e.value.length>0&&(e.classList.contains("input-dadata-city")||e.classList.contains("input-dadata-street")?t.classList.contains("is--selected")&&o--:"tel"==e.type?13==e.value.replace(/[^+\d]/g,"").length&&o--:o--)})),0==o&&i&&i.classList.remove("is--active")}function ue(e){var t=e.querySelectorAll("[data-validation-block]"),i=t.length;return t.forEach((function(e){(function(e){var t=e.querySelectorAll('.input-field__input[data-validation="required"], .input-field__textarea[data-validation="required"]'),i=e.querySelectorAll('.square-checkbox__input[data-validation="required"]'),o=e.querySelectorAll(".radio-checkbox__input"),r=e.querySelectorAll(".card-checkbox__input"),c=e.querySelector(".form-error"),s=!1,a=!1,l=!1,d=!1,u=!1;if(t&&t.length>0){var p=t.length;t.forEach((function(e){var t=e.closest(".input-field");e.value.length>0?e.classList.contains("input-dadata-city")||e.classList.contains("input-dadata-street")?t.classList.contains("is--selected")&&p--:"tel"==e.type?13==e.value.replace(/[^+\d]/g,"").length&&p--:p--:t.classList.add("is--error")})),0==p&&(s=!0),c&&(s?c.classList.remove("is--active"):c.classList.add("is--active"))}if(i&&i.length>0){var v=i.length;i.forEach((function(e){var t=e.closest(".square-checkbox");e.checked?(t.classList.remove("is--error"),v--):t.classList.add("is--error")})),0==v&&(a=!0),c&&(a?c.classList.remove("is--active"):c.classList.add("is--active"))}if(o&&o.length>0){var m=[],f=0;o.forEach((function(e){m.push(e.name)})),m=n(m),f=m.length,m.forEach((function(e){document.querySelectorAll('.radio-checkbox__input[name="'+e+'"]').forEach((function(e){e.checked&&f--}))})),0==f&&(l=!0),c&&(l?c.classList.remove("is--active"):c.classList.add("is--active"))}return r&&r.length>0&&(r.forEach((function(e){e.checked&&(d=!0)})),d?c&&c.classList.remove("is--active"):(r.forEach((function(e){e.closest(".card-checkbox").classList.add("is--error")})),c&&c.classList.add("is--active"))),t&&t.length>0&&i&&i.length>0?s&&a&&(u=!0):(s||a||l||d)&&(u=!0),u})(e)&&i--})),0==i||(e.scrollIntoView({behavior:"smooth"}),!1)}le&&le.forEach((function(e){var t=e.querySelectorAll('.input-field__input[data-validation="required"], .input-field__textarea[data-validation="required"]'),i=e.querySelectorAll('.square-checkbox__input[data-validation="required"]'),o=e.querySelectorAll(".radio-checkbox__input"),r=e.querySelectorAll(".card-checkbox__input");t.forEach((function(e){e.addEventListener("input",(function(){var t=e.closest(".input-field"),i=e.closest("[data-validation-block]");e.value.length>0&&t.classList.contains("is--error")&&("tel"==e.type?13==e.value.replace(/[^+\d]/g,"").length&&(t.classList.remove("is--error"),i&&de(i)):(t.classList.remove("is--error"),i&&de(i)))})),e.addEventListener("blur",(function(){var t=e.closest(".input-field"),i=e.closest("[data-validation-block]");(0==e.value.length||"tel"==e.type&&13!=e.value.replace(/[^+\d]/g,"").length)&&(t.classList.add("is--error"),i&&de(i))}))})),i.forEach((function(e){e.addEventListener("input",(function(){!function(e){var t=e.querySelectorAll(".square-checkbox__input"),i=e.querySelector(".form-error"),o=t.length;t.forEach((function(e){var t=e.closest(".square-checkbox");e.checked&&(t.classList.remove("is--error"),o--)})),0==o&&i&&i.classList.remove("is--active")}(e.closest("[data-validation-block]"))}))})),o.forEach((function(e){e.addEventListener("input",(function(){!function(e){var t=e.querySelectorAll(".radio-checkbox__input"),i=e.querySelector(".form-error"),o=[],r=0;t.forEach((function(e){o.push(e.name)})),o=n(o),r=o.length,o.forEach((function(e){document.querySelectorAll('.radio-checkbox__input[name="'+e+'"]').forEach((function(e){e.checked&&r--}))})),0==r&&i&&i.classList.remove("is--active")}(e.closest("[data-validation-block]"))}))})),r.forEach((function(e){e.addEventListener("input",(function(){!function(e){var t=e.querySelectorAll(".card-checkbox__input"),i=e.querySelector(".form-error"),o=!1;t.forEach((function(e){e.checked&&(o=!0)})),o&&(t.forEach((function(e){e.closest(".card-checkbox").classList.remove("is--error")})),i&&i.classList.remove("is--active"))}(e.closest("[data-validation-block]"))}))})),e.addEventListener("submit",(function(t){ue(e)?"ajax"==e.dataset.action&&(t.preventDefault(),sendingFormData(e)):t.preventDefault()}))}));var pe=document.querySelector(".input-dadata-city"),ve=document.querySelector(".input-dadata-city ~ .input-field__dropdown"),me=document.querySelector(".input-dadata-street"),fe=document.querySelector(".input-dadata-street ~ .input-field__dropdown"),ye="https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",he="8597dd60d3a83fb46930107993271556971eadf1";pe&&me&&(pe.addEventListener("input",(function(){var e=pe.closest(".input-field"),t=pe.value,i=[],o={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+he},body:JSON.stringify({query:t,count:5,locations:[{country:"Беларусь",area:"Минский"},{country:"Беларусь",city:"Минск"}],from_bound:{value:"city"},to_bound:{value:"settlement"},restrict_value:!0})};e.classList.contains("is--selected")&&e.classList.remove("is--selected"),pe.closest(".validation-form")&&pe.closest(".validation-form").querySelectorAll(".input-field__input:not(.input-dadata-city)").forEach((function(e){e.value=""})),t.length>=2?fetch(ye,o).then((function(e){return e.text()})).then((function(t){if(JSON.parse(t).suggestions.forEach((function(e){null!=e.data.settlement_with_type?i.push(e.data.settlement_with_type):"relation:59195"==e.data.city_fias_id&&i.push(e.data.city_with_type)})),i.length>0){e.classList.add("is--dropdown"),ve.innerHTML="";for(var o=document.createElement("ul"),n=0;n<i.length;n++)o.innerHTML+='\n                                <li class="input-field__list-item">\n                                    <button class="input-field__list-elem">'.concat(i[n],"</button>\n                                </li>\n                            ");ve.append(o)}else e.classList.remove("is--dropdown"),ve.innerHTML=""})).catch((function(e){return console.log("error",e)})):(e.classList.remove("is--dropdown"),ve.innerHTML="")})),pe.addEventListener("blur",(function(){var e=pe.closest(".input-field"),t=pe.closest("[data-validation-block]");e.classList.contains("is--selected")||(pe.value="",e.classList.add("is--error"),de(t)),e.classList.contains("is--dropdown")&&e.classList.remove("is--dropdown")})),me.addEventListener("input",(function(){var e=me.closest(".input-field"),t=me.value,i=pe.value,o=i.split(" ").slice(1).join(" "),n=[],r={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+he},body:JSON.stringify({query:t,count:5,locations:[{country:"Беларусь",city:o},{country:"Беларусь",settlement:o}],from_bound:{value:"street"},to_bound:{value:"street"},restrict_value:!0})};e.classList.contains("is--selected")&&e.classList.remove("is--selected"),t.length>=2&&i.length>0?fetch(ye,r).then((function(e){return e.text()})).then((function(t){if(JSON.parse(t).suggestions.forEach((function(e){null!=e.data.street_with_type&&n.push(e.data.street_with_type)})),n=function(e){for(var t=1,i=1;t<e.length;++t)e[t]!==e[t-1]&&(e[i++]=e[t]);return e.length=i,e}(n),n.length>0&&null!=n[0]){e.classList.add("is--dropdown"),fe.innerHTML="";for(var i=document.createElement("ul"),o=0;o<n.length;o++)i.innerHTML+='\n                                <li class="input-field__list-item">\n                                    <button class="input-field__list-elem">'.concat(n[o],"</button>\n                                </li>\n                            ");fe.append(i)}else e.classList.remove("is--dropdown"),fe.innerHTML=""})).catch((function(e){return console.log("error",e)})):(e.classList.remove("is--dropdown"),fe.innerHTML="")})),me.addEventListener("blur",(function(){var e=me.closest(".input-field");e.classList.contains("is--dropdown")&&e.classList.remove("is--dropdown")})),document.body.addEventListener("mousedown",(function(e){if(e.target.classList.contains("input-field__list-elem")){e.preventDefault();var t=e.target.closest(".input-field");t.querySelector(".input-field__input").value=e.target.innerHTML,t.classList.remove("is--dropdown"),t.classList.add("is--selected")}})));var _e=document.getElementById("pharmacy-list"),ge=document.querySelectorAll(".pharmacy-list-trigger"),Le=document.querySelector(".pharmacy-list__close");_e&&ge&&Le&&(_e.addEventListener("click",(function(e){if(e.preventDefault(),e.target.classList.contains("c-schedule__trigger")||e.target.closest(".c-schedule__trigger")){console.log("true"),e.preventDefault();var t=e.target.closest(".c-schedule"),i=function(){t.classList.remove("is--active")},o=s([e.target.parentNode],i);t.classList.contains("is--active")?i():(t.classList.add("is--active"),o.setBodyChecker())}})),ge.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),_e.classList.contains("is--active")?(_e.classList.remove("is--active"),e()):(_e.classList.add("is--active"),e(1))}))})),Le.addEventListener("click",(function(t){t.preventDefault(),_e.classList.contains("is--active")&&(_e.classList.remove("is--active"),e())})));var Se=document.querySelector(".main-banners__slider .swiper");if(Se)new Swiper(Se,{slidesPerView:1,loop:!0,autoplay:{delay:5e3},navigation:{prevEl:".main-banners__slider .swiper-button-prev",nextEl:".main-banners__slider .swiper-button-next"}});var qe=document.querySelector(".content-slider__slider .swiper");if(qe)new Swiper(qe,{slidesPerView:1,loop:!0,autoplay:{delay:5e3},navigation:{prevEl:".content-slider__slider .swiper-button-prev",nextEl:".content-slider__slider .swiper-button-next"}});var be=document.querySelector(".similar-products__slider .swiper"),we=document.querySelectorAll(".similar-products-content__slider:not(similar-products-content__slider--short) .swiper"),Ee=document.querySelectorAll(".similar-products-content__slider--short .swiper");if(be&&window.innerWidth>=744)new Swiper(be,{slidesPerView:5,spaceBetween:28,loop:!0,navigation:{prevEl:".similar-products__slider .swiper-button-prev",nextEl:".similar-products__slider .swiper-button-next"},breakpoints:{744:{slidesPerView:3,spaceBetween:10},1200:{slidesPerView:4,spaceBetween:28},1400:{slidesPerView:5}}});we&&we.forEach((function(e){new Swiper(e,{slidesPerView:5,spaceBetween:28,loop:!0,navigation:{prevEl:e.closest(".similar-products-content").querySelector(".swiper-button-prev"),nextEl:e.closest(".similar-products-content").querySelector(".swiper-button-next")},breakpoints:{0:{slidesPerView:"auto",spaceBetween:5},744:{slidesPerView:3,spaceBetween:10},1200:{slidesPerView:4,spaceBetween:28},1400:{slidesPerView:5}}})})),Ee&&Ee.forEach((function(e){new Swiper(e,{slidesPerView:4,spaceBetween:32,loop:!0,navigation:{prevEl:e.closest(".similar-products-content").querySelector(".swiper-button-prev"),nextEl:e.closest(".similar-products-content").querySelector(".swiper-button-next")},breakpoints:{0:{slidesPerView:"auto",spaceBetween:5},744:{slidesPerView:2,spaceBetween:10},1024:{slidesPerView:3,spaceBetween:10},1200:{slidesPerView:4,spaceBetween:28},1400:{slidesPerView:4}}})}));var ke=document.querySelector(".pickup-point__slider .swiper");if(ke)new Swiper(ke,{slidesPerView:1,loop:!0,navigation:{prevEl:".pickup-point__slider .swiper-button-prev",nextEl:".pickup-point__slider .swiper-button-next"}});var xe=document.querySelector(".often-buy__slider .swiper");if(xe)new Swiper(xe,{slidesPerView:4,spaceBetween:22,loop:!0,navigation:{prevEl:".often-buy__slider .swiper-button-prev",nextEl:".often-buy__slider .swiper-button-next"},breakpoints:{0:{slidesPerView:1,spaceBetween:10},744:{slidesPerView:2,spaceBetween:22},1024:{slidesPerView:3},1200:{slidesPerView:4}}});var Ae=document.querySelector(".product__slider .gallery-thumbs"),Be=document.querySelector(".product__slider .gallery-main");if(Ae&&Be){var Te=new Swiper(Ae,{allowTouchMove:!1,slidesPerView:4,spaceBetween:10,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{0:{slidesPerView:5,direction:"horizontal"},744:{slidesPerView:4,direction:"vertical",loopedSlides:4,thumbs:{swiper:Te}}}}),Pe=new Swiper(Be,{slidesPerView:1,spaceBetween:0,preloadImages:!1,breakpoints:{744:{loopedSlides:4,thumbs:{swiper:Te}}}});Ae.querySelectorAll(".swiper-slide").forEach((function(e){e.addEventListener("click",(function(){Ae.querySelectorAll(".swiper-slide").forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active"),Pe.slideTo(e.dataset.index)}))})),Pe.on("slideChange",(function(){Ae.querySelectorAll(".swiper-slide").forEach((function(e){return e.classList.remove("is--active")})),Ae.querySelectorAll(".swiper-slide")[Pe.activeIndex].classList.add("is--active")}))}var De=document.getElementById("similar-products"),Ce=document.querySelectorAll(".similar-products-btn"),He=document.getElementById("similar-products-close");De&&Ce&&He&&(De.addEventListener("click",(function(t){(t.target.classList.contains("similar-products")||t.target.classList.contains("similar-products__wrap"))&&(t.preventDefault(),De.classList.remove("is--active"),e())})),Ce.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),De.classList.add("is--active"),e(1)}))})),He.addEventListener("click",(function(t){t.preventDefault(),De.classList.remove("is--active"),e()})));var Re=document.getElementById("img-popup"),Me=document.querySelectorAll(".img-popup-btn"),Ne=document.getElementById("img-popup-close");Re&&Me&&Ne&&(Re.addEventListener("click",(function(t){(t.target.classList.contains("img-popup")||t.target.classList.contains("img-popup__wrap"))&&(t.preventDefault(),Re.classList.remove("is--active"),Re.querySelector(".img-popup__img img").src="#",e())})),Me.forEach((function(t){t.addEventListener("click",(function(i){i.preventDefault(),Re.classList.add("is--active"),Re.querySelector(".img-popup__img img").src=t.dataset.img,e(1)}))})),Ne.addEventListener("click",(function(t){t.preventDefault(),Re.classList.remove("is--active"),Re.querySelector(".img-popup__img img").src="#",e()})));var Ve=window.pageYOffset;window.addEventListener("scroll",(function(){var e=window.pageYOffset;Ve>e||Ve<=0?document.body.classList.contains("scroll-disabled")||g&&(document.querySelector(".header__wrapper--top")?document.querySelector(".top-notice")?window.pageYOffset<=document.querySelector(".top-notice").getBoundingClientRect().height+document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(g.querySelector(".header__fixed").style.boxShadow="none",g.querySelector(".header__fixed").style.position="relative"):window.pageYOffset<=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(g.querySelector(".header__fixed").style.boxShadow="none",g.querySelector(".header__fixed").style.position="relative"):document.querySelector(".top-notice")?window.pageYOffset<=document.querySelector(".top-notice").getBoundingClientRect().height&&(g.querySelector(".header__fixed").style.boxShadow="none",g.querySelector(".header__fixed").style.position="relative"):window.pageYOffset<=0&&(g.querySelector(".header__fixed").style.boxShadow="none",g.querySelector(".header__fixed").style.position="relative")):document.body.classList.contains("scroll-disabled")||g&&(document.querySelector(".header__wrapper--top")?document.querySelector(".top-notice")?window.pageYOffset>=document.querySelector(".top-notice").getBoundingClientRect().height+document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(g.querySelector(".header__fixed").style.boxShadow="0px 1px 4px 0px rgba(0, 0, 0, 0.10)",g.querySelector(".header__fixed").style.position="fixed",X&&X.classList.contains("is--active")&&X.classList.remove("is--active")):window.pageYOffset>=document.querySelector(".header__wrapper--top").getBoundingClientRect().height&&(g.querySelector(".header__fixed").style.boxShadow="0px 1px 4px 0px rgba(0, 0, 0, 0.10)",g.querySelector(".header__fixed").style.position="fixed",X&&X.classList.contains("is--active")&&X.classList.remove("is--active")):document.querySelector(".top-notice")?window.pageYOffset>=document.querySelector(".top-notice").getBoundingClientRect().height&&(g.querySelector(".header__fixed").style.position="fixed"):window.pageYOffset>=0&&(g.querySelector(".header__fixed").style.position="fixed")),ee&&ee.classList.contains("is--active")&&i(),Ve=e})),window.addEventListener("resize",(function(){o()})),window.addEventListener("unload",(function(){document.querySelector(".validation-form")&&setTimeout((function(){document.querySelector(".validation-form").reset()}),1e4)}))}));